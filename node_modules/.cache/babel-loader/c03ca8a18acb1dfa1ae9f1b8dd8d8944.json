{"ast":null,"code":"import _classCallCheck from\"/Users/michelleponting/Desktop/Sound-Sustainability-Virtual-Hearing-Test/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/michelleponting/Desktop/Sound-Sustainability-Virtual-Hearing-Test/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/michelleponting/Desktop/Sound-Sustainability-Virtual-Hearing-Test/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/michelleponting/Desktop/Sound-Sustainability-Virtual-Hearing-Test/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Audio from'./screening_routes/Audio';import Calibration from'./screening_routes/Calibration';import Instructions from'./screening_routes/Instructions';import Results from'./screening_routes/Results';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var data=[{id:'0',title:'Instructions',stagePercent:'0'},{id:'1',title:'Calibration',stagePercent:'33'},{id:'2',title:'Hearing Screening',stagePercent:'66'},{id:'3',title:'Results',stagePercent:'100'}];/*\n    Adapted from :ReactJS: Dynamic Previous/Next Buttons\n    desc: Retrieve previous & next titles and return them as component props.\n    author: alpha1337\n    https://codesandbox.io/s/rk360yxz?file=/index.js:3135-3772\n*/var AudioScreening=/*#__PURE__*/function(_Component){_inherits(AudioScreening,_Component);var _super=_createSuper(AudioScreening);function AudioScreening(){var _this;_classCallCheck(this,AudioScreening);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={test:[],stages:[],activeStage:'',modalTitle:'',modalPercentage:'',isDisabled:true};_this.handleModalOpen=function(idx){_this.setState({activeStage:idx,modalTitle:_this.state.stages[idx].title,modalPercentage:_this.state.stages[idx].stagePercent});};_this.handleModalRestart=function(){window.location.reload();};_this.handleNextStage=function(){var arr=_this.state.stages.length;var idx=_this.state.activeStage+1;idx=idx%arr;_this.setState({activeStage:idx,modalTitle:_this.state.stages[idx].title,modalPercentage:_this.state.stages[idx].stagePercent,isDisabled:true});};_this.handlePrevStage=function(){var arr=_this.state.stages.length;var idx=_this.state.activeStage;if(idx===1){_this.handleModalRestart();}else{if(idx===0){idx=arr-1;}else{idx=idx-1;}_this.setState({activeStage:idx,modalTitle:_this.state.stages[idx].title,modalPercentage:_this.state.stages[idx].stagePercent});}};_this.handleDisableNextButton=function(){_this.setState({isDisabled:false});};_this.getResults=function(test){_this.setState({test:test});};return _this;}_createClass(AudioScreening,[{key:\"componentDidMount\",value:function componentDidMount(){this.setState({stages:data});}},{key:\"render\",value:function render(){function nextStage(idx,arr){var i=idx+1;i=i%arr.length;return arr[i].title;}function prevStage(idx,arr){var i=0;if(idx===0){i=arr.length-1;}else{i=idx-1;}return arr[i].title;}if(this.state.activeStage===''){return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid mb-3 px-5 pb-5\",children:[/*#__PURE__*/_jsx(Breadcrumbs,{}),/*#__PURE__*/_jsx(Progress,{step:\"0\"}),/*#__PURE__*/_jsx(Instructions,{}),/*#__PURE__*/_jsx(\"div\",{className:\"pt-5 px-md-5 mx-md-5\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary float-right\",onClick:this.handleModalOpen.bind(this,1),children:\"Next: Calibration\"})})]});}else if(this.state.activeStage===2){return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid mb-3 px-5 pb-5\",children:[/*#__PURE__*/_jsx(Breadcrumbs,{}),/*#__PURE__*/_jsx(Progress,{step:this.state.activeStage}),/*#__PURE__*/_jsx(Audio,{disable:this.handleDisableNextButton,passResults:this.getResults}),/*#__PURE__*/_jsx(Modal,{step:this.state.activeStage,previousStage:prevStage(this.state.activeStage,data),nextStage:nextStage(this.state.activeStage,data),onModalRestart:this.handleModalRestart,onNext:this.handleNextStage,onPrev:this.handlePrevStage,disable:this.state.isDisabled})]});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid mb-3 px-5 pb-5\",children:[/*#__PURE__*/_jsx(Breadcrumbs,{}),/*#__PURE__*/_jsx(Progress,{step:this.state.activeStage}),/*#__PURE__*/_jsx(ScreeningComponenet,{step:this.state.activeStage,talking1stepdown:this.talkin,disable:this.handleDisableNextButton,test:this.state.test,getResults:this.getResults}),/*#__PURE__*/_jsx(Modal,{step:this.state.activeStage,previousStage:prevStage(this.state.activeStage,data),nextStage:nextStage(this.state.activeStage,data),onModalRestart:this.handleModalRestart,onNext:this.handleNextStage,onPrev:this.handlePrevStage,disable:this.state.isDisabled})]});}}}]);return AudioScreening;}(Component);function ScreeningComponenet(props){if(props.step===3){return/*#__PURE__*/_jsx(Results,{testResults:props.test});}else{return/*#__PURE__*/_jsx(Calibration,{disable:props.disable});}}var Modal=/*#__PURE__*/function(_React$Component){_inherits(Modal,_React$Component);var _super2=_createSuper(Modal);function Modal(){_classCallCheck(this,Modal);return _super2.apply(this,arguments);}_createClass(Modal,[{key:\"render\",value:function render(){if(this.props.step===3){return/*#__PURE__*/_jsx(\"div\",{});}else if(this.props.step===2){return/*#__PURE__*/_jsx(\"div\",{className:\"px-md-5 mx-md-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row text-center pt-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-light font-weight-light\",onClick:this.props.onModalRestart,children:\"restart\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4\",children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-primary float-right font-weight-light\",disabled:this.props.disable,onClick:this.props.onNext,children:[\"Next: \",this.props.nextStage]})})]})});}else{return/*#__PURE__*/_jsx(\"div\",{className:\"px-md-5 mx-md-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row text-center pt-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-4\",children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-primary float-left font-weight-light\",onClick:this.props.onPrev,children:[\"Previous: \",this.props.previousStage]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-light font-weight-light\",onClick:this.props.onModalRestart,children:\"restart\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4\",children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-primary float-right font-weight-light\",disabled:this.props.disable,onClick:this.props.onNext,children:[\"Next: \",this.props.nextStage]})})]})});}}}]);return Modal;}(React.Component);var Breadcrumbs=/*#__PURE__*/function(_Component2){_inherits(Breadcrumbs,_Component2);var _super3=_createSuper(Breadcrumbs);function Breadcrumbs(){_classCallCheck(this,Breadcrumbs);return _super3.apply(this,arguments);}_createClass(Breadcrumbs,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"breadcrumb\",className:\"breadcrumbs\",children:/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb bg-transparent font-weight-light mb-1\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"text-danger\",href:\"/\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"text-danger\",href:\"/screeninghome\",children:\"Screening Info\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active\",\"aria-current\":\"page\",children:\"Screening\"})]})});}}]);return Breadcrumbs;}(Component);var Progress=/*#__PURE__*/function(_Component3){_inherits(Progress,_Component3);var _super4=_createSuper(Progress);function Progress(){_classCallCheck(this,Progress);return _super4.apply(this,arguments);}_createClass(Progress,[{key:\"render\",value:function render(){var stepSpacing='py-2 px-1 align-middle';var step2=' bg-light text-muted text-nowrap';var step3=' bg-light text-muted text-nowrap';var step4=' bg-light text-muted text-nowrap';if(this.props.step>=1){step2=' arrow-active text-nowrap';}if(this.props.step>=2){step3=' arrow-active text-nowrap';}if(this.props.step>=3){step4=' arrow-active text-nowrap';}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-weight-light text-center p-2 w-100\",id:\"screening-progress-web\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"d-inline-flex align-content-center text-dark p-0\",id:\"progress\",children:[/*#__PURE__*/_jsx(\"li\",{className:stepSpacing+\" arrow-active text-nowrap \",children:/*#__PURE__*/_jsx(\"span\",{className:\"pl-4\",children:\"Instructions\"})}),/*#__PURE__*/_jsx(\"li\",{className:stepSpacing+step2,children:/*#__PURE__*/_jsx(\"span\",{className:\"pl-4\",children:\"Calibration\"})}),/*#__PURE__*/_jsx(\"li\",{className:stepSpacing+step3,children:/*#__PURE__*/_jsx(\"span\",{className:\"pl-4 pr-4\",children:\"Hearing Screening\"})}),/*#__PURE__*/_jsx(\"li\",{className:stepSpacing+step4,children:/*#__PURE__*/_jsx(\"span\",{className:\"pl-4\",children:\"Results\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"font-weight-light text-center p-2 w-100\",id:\"screening-progress-mobile\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"d-inline-flex align-content-center text-dark p-0\",id:\"progress\",children:[/*#__PURE__*/_jsx(\"li\",{className:stepSpacing+\" arrow-active text-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:\"pl-4\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-info-circle\"})})}),/*#__PURE__*/_jsx(\"li\",{className:stepSpacing+step2,children:/*#__PURE__*/_jsx(\"span\",{className:\"pl-4\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sliders\"})})}),/*#__PURE__*/_jsx(\"li\",{className:stepSpacing+step3,children:/*#__PURE__*/_jsx(\"span\",{className:\"pl-4\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-headphones\"})})}),/*#__PURE__*/_jsx(\"li\",{className:stepSpacing+step4,children:/*#__PURE__*/_jsx(\"span\",{className:\"pl-4\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-clipboard-data\"})})})]})})]});}}]);return Progress;}(Component);export default AudioScreening;","map":{"version":3,"sources":["/Users/michelleponting/Desktop/Sound-Sustainability-Virtual-Hearing-Test/src/components/hearingtest/hearingscreening/Screening.js"],"names":["React","Component","Audio","Calibration","Instructions","Results","data","id","title","stagePercent","AudioScreening","state","test","stages","activeStage","modalTitle","modalPercentage","isDisabled","handleModalOpen","idx","setState","handleModalRestart","window","location","reload","handleNextStage","arr","length","handlePrevStage","handleDisableNextButton","getResults","nextStage","i","prevStage","bind","talkin","ScreeningComponenet","props","step","disable","Modal","onModalRestart","onNext","onPrev","previousStage","Breadcrumbs","Progress","stepSpacing","step2","step3","step4"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\n\nimport Audio from './screening_routes/Audio';\nimport Calibration from './screening_routes/Calibration';\nimport Instructions from './screening_routes/Instructions';\nimport Results from './screening_routes/Results';\n\nconst data = [\n    {\n        id: '0',\n        title: 'Instructions',\n        stagePercent: '0'\n    },\n    {\n        id: '1',\n        title: 'Calibration',\n        stagePercent: '33'\n    },\n    {\n        id: '2',\n        title: 'Hearing Screening',\n        stagePercent: '66'\n    },\n    {\n        id: '3',\n        title: 'Results',\n        stagePercent: '100'\n    },\n  ];\n\n/*\n    Adapted from :ReactJS: Dynamic Previous/Next Buttons\n    desc: Retrieve previous & next titles and return them as component props.\n    author: alpha1337\n    https://codesandbox.io/s/rk360yxz?file=/index.js:3135-3772\n*/\nclass AudioScreening extends Component {\n    state = {\n            test: [],\n            stages: [],\n            activeStage: '',\n            modalTitle: '',\n            modalPercentage: '',\n            isDisabled: true\n        }\n    \n\n    componentDidMount() {\n        this.setState({ stages: data });\n    }\n\n    handleModalOpen = (idx) => {\n        this.setState({\n            activeStage: idx,\n            modalTitle: this.state.stages[idx].title,\n            modalPercentage: this.state.stages[idx].stagePercent\n        });\n    };\n\n    handleModalRestart = () => {\n        window.location.reload();\n    };\n\n    handleNextStage = () => {\n\n        var arr = this.state.stages.length;\n        var idx = this.state.activeStage + 1;\n        idx = idx % arr;\n\n        this.setState({\n            activeStage: idx,\n            modalTitle: this.state.stages[idx].title,\n            modalPercentage: this.state.stages[idx].stagePercent,\n            isDisabled: true\n        });\n    };\n\n    handlePrevStage = () => {\n        var arr = this.state.stages.length;\n        var idx = this.state.activeStage;\n\n        if (idx === 1) {\n            this.handleModalRestart();\n        } else {\n            if (idx === 0) {\n                idx = arr - 1;\n            } else {\n                idx = idx - 1;\n            }\n    \n            this.setState({\n                activeStage: idx,\n                modalTitle: this.state.stages[idx].title,\n                modalPercentage: this.state.stages[idx].stagePercent\n            });\n        }\n    };\n\n    handleDisableNextButton = () => {\n        this.setState({\n            isDisabled: false\n        });\n    }\n\n    getResults = (test) => {\n        this.setState({\n            test: test\n        });\n    }\n\n    render() {\n        \n        function nextStage(idx, arr) {\n            var i = idx + 1;\n            i = i % arr.length;\n            return arr[i].title;\n        }\n\n        function prevStage(idx, arr) {\n            let i = 0;\n            if (idx === 0) {\n                i = arr.length - 1;\n            } else {\n                i = idx - 1;\n            }\n            return arr[i].title;\n        }\n\n        if (this.state.activeStage === '') {\n            return (\n                <div className=\"container-fluid mb-3 px-5 pb-5\">\n                    <Breadcrumbs />\n                    <Progress step=\"0\"></Progress>\n                    <Instructions />\n                    <div className=\"pt-5 px-md-5 mx-md-5\">\n                        <button type=\"button\" className=\"btn btn-primary float-right\" \n                            onClick={this.handleModalOpen.bind(this, 1)}>  \n                            Next: Calibration\n                        </button>\n                    </div>\n                </div>\n            );\n        } else if (this.state.activeStage === 2) {\n            return (\n                <div className=\"container-fluid mb-3 px-5 pb-5\">\n                    <Breadcrumbs />\n                    <Progress \n                        step={this.state.activeStage}\n                    />\n                    <Audio \n                        disable={this.handleDisableNextButton} \n                        passResults={this.getResults} \n                    />\n                    <Modal\n                        step={this.state.activeStage}\n                        previousStage={prevStage(this.state.activeStage, data)}\n                        nextStage={nextStage(this.state.activeStage, data)}\n                        onModalRestart={this.handleModalRestart}\n                        onNext={this.handleNextStage}\n                        onPrev={this.handlePrevStage}\n                        disable={this.state.isDisabled}\n                    />\n                </div>\n            );\n        } else {\n            return (\n                <div className=\"container-fluid mb-3 px-5 pb-5\">\n                    <Breadcrumbs />\n                    <Progress \n                        step={this.state.activeStage}\n                    />\n                    <ScreeningComponenet \n                        step={this.state.activeStage}\n                        talking1stepdown={this.talkin}\n                        disable={this.handleDisableNextButton}\n                        test={this.state.test}\n                        getResults={this.getResults}\n                    />\n                    <Modal\n                        step={this.state.activeStage}\n                        previousStage={prevStage(this.state.activeStage, data)}\n                        nextStage={nextStage(this.state.activeStage, data)}\n                        onModalRestart={this.handleModalRestart}\n                        onNext={this.handleNextStage}\n                        onPrev={this.handlePrevStage}\n                        disable={this.state.isDisabled}\n                    />\n                </div>\n            );\n        }\n    }\n}\n\nfunction ScreeningComponenet(props) {\n    if (props.step === 3) {\n        return <Results testResults={props.test}/>;\n    } else {\n        return <Calibration disable={props.disable} />;\n    }\n}\n\nclass Modal extends React.Component {\n    render() {\n        if (this.props.step === 3) {\n            return (\n                <div >\n                </div>\n            );\n        } else if (this.props.step === 2) {\n            return (\n                <div className=\"px-md-5 mx-md-5\">\n                    <div className=\"row text-center pt-5\">\n                        <div className=\"col-4\">\n                        </div>\n                        <div className=\"col-4\">\n                            <button type=\"button\" className=\"btn btn-light font-weight-light\" onClick={this.props.onModalRestart}>restart</button>\n                        </div>\n                        <div className=\"col-4\">\n                            <button type=\"button\" className=\"btn btn-primary float-right font-weight-light\" disabled={this.props.disable} onClick={this.props.onNext}>Next: {this.props.nextStage}</button>\n                        </div>\n                    </div>\n                </div>\n            );\n        } else {\n            return (\n                <div className=\"px-md-5 mx-md-5\">\n                    <div className=\"row text-center pt-5\">\n                        <div className=\"col-4\">\n                            <button type=\"button\" className=\"btn btn-primary float-left font-weight-light\" onClick={this.props.onPrev}>Previous: {this.props.previousStage}</button>\n                        </div>\n                        <div className=\"col-4\">\n                            <button type=\"button\" className=\"btn btn-light font-weight-light\" onClick={this.props.onModalRestart}>restart</button>\n                        </div>\n                        <div className=\"col-4\">\n                            <button type=\"button\" className=\"btn btn-primary float-right font-weight-light\" disabled={this.props.disable} onClick={this.props.onNext}>Next: {this.props.nextStage}</button>\n                        </div>\n                    </div>\n                </div>\n            );\n        }\n    }\n}\n\nclass Breadcrumbs extends Component {\n    render() {\n        return (\n            <nav aria-label=\"breadcrumb\" className=\"breadcrumbs\">\n                <ol className=\"breadcrumb bg-transparent font-weight-light mb-1\">\n                    <li className=\"breadcrumb-item\"><a className=\"text-danger\" href=\"/\">Home</a></li>\n                    <li className=\"breadcrumb-item\"><a className=\"text-danger\" href=\"/screeninghome\">Screening Info</a></li>\n                    <li className=\"breadcrumb-item active\" aria-current=\"page\">Screening</li>\n                </ol>\n            </nav>\n        );\n    }\n}\n\nclass Progress extends Component {\n    render() {\n        let stepSpacing = 'py-2 px-1 align-middle'\n        \n        let step2 = ' bg-light text-muted text-nowrap'\n        let step3 = ' bg-light text-muted text-nowrap'\n        let step4 = ' bg-light text-muted text-nowrap'\n        if (this.props.step >= 1) {\n            step2 = ' arrow-active text-nowrap';\n        }\n        if (this.props.step >= 2) {\n            step3 = ' arrow-active text-nowrap';\n        }\n        if (this.props.step >= 3) {\n            step4 = ' arrow-active text-nowrap';\n        }\n\n        return (\n            <div>\n                <div className=\"font-weight-light text-center p-2 w-100\" id=\"screening-progress-web\">\n                    <ul className=\"d-inline-flex align-content-center text-dark p-0\" id=\"progress\">\n                        <li className={stepSpacing + \" arrow-active text-nowrap \"}>\n                            <span className=\"pl-4\">Instructions</span>\n                        </li>\n                        <li className={stepSpacing+step2}>\n                            <span className=\"pl-4\">Calibration</span>\n                        </li>\n                        <li className={stepSpacing+step3}>\n                            <span className=\"pl-4 pr-4\">Hearing Screening</span>\n                        </li>\n                        <li className={stepSpacing+step4}>\n                            <span className=\"pl-4\">Results</span>\n                        </li>\n                    </ul>\n                </div>\n                <div className=\"font-weight-light text-center p-2 w-100\" id=\"screening-progress-mobile\">\n                    <ul className=\"d-inline-flex align-content-center text-dark p-0\" id=\"progress\">\n                        <li className={stepSpacing + \" arrow-active text-nowrap\"}>\n                            <span className=\"pl-4\"><i className=\"bi bi-info-circle\"></i></span>\n                        </li>\n                        <li className={stepSpacing+step2}>\n                            <span className=\"pl-4\"><i className=\"bi bi-sliders\"></i></span>\n                        </li>\n                        <li className={stepSpacing+step3}>\n                            <span className=\"pl-4\"><i className=\"bi bi-headphones\"></i></span>\n                        </li>\n                        <li className={stepSpacing+step4}>\n                            <span className=\"pl-4\"><i className=\"bi bi-clipboard-data\"></i></span>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default AudioScreening;"]},"metadata":{},"sourceType":"module"}